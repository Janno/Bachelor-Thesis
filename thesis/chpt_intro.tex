\chapter{Introduction}
\label{chap:intro}

Regular languages are a well-studied class of formal languages. 
In their current form, they were first studied by Kleene \cite{KleeneNets}, who introduced regular expressions. 
The concept of deterministic finite automata was introduced before Kleene's invention of regular expressions by Huffman \cite{Huffman1954161} and Moore \cite{Moore56}. 
Rabin and Scott later introduced the concept non-deterministic finite automata \cite{Rabin:1959:FAD:1661907.1661909}, for which they were given the Turing award \cite{Ashenhurst:1987:ATA:27609}.
\todo{Theoretical importance: Second-Order logic, Monoids}

\paragraph{}
Our goal is to give a concise formalization of the equivalence between regular expressions, finite automata and the Myhill-Nerode characterization. 
We give procedures to convert between these characterizations and prove their correctness.
Our development is done in the proof assistant \coq.%
\todo{famous coq examples}%
We make use of the \ssreflect\ plugin which provides support for finite types and other useful infrastructure for our purpose.
\ssreflect\ was famously used to carry out a complete formalization of the four colour theorem\cite{DBLP:conf/ascm/Gonthier07}.


\section{Related work}

There have been many publications on regular languages in recent years.
Most of them investigate decidability of equivalence of regular expressions, often with a focus on automatically deciding Kleene algebras.

\paragraph{}
Coquand and Siles developed a decision procedure for equivalence of regular expressions \cite{DBLP:conf/cpp/CoquandS11} on the basis of Brzozowski derivatives \cite{DBLP:journals/jacm/Brzozowski64} in \coq\ (with \ssreflect). Their development weighs in at 7,500 lines of code, 700 of which serve as the basis of our formalization.

\paragraph{}
Krauss and Nipkow gave a decision procedure for equivalence of regular expressions in Isabelle/HOL \cite{DBLP:journals/jar/KraussN12}. Their development is very concise with just over 1,000 lines of code. However, completeness and termination were not proven.

\paragraph{}
Another decision procedure for equivalence of regular expressions was developed by Braibant and Pous \cite{DBLP:journals/corr/abs-1105-4537}, with the goal of deciding Kleene algebras in \coq. Their formalization is based on matrices and weighs in at 19,000 lines of code. It encompasses finite automata, regular expressions and the Myhill-Nerode theorem.

\paragraph{}
Moreira, Pereira and Sousa gave a decision procedure for equivalence of regular expressions in \coq \cite{DBLP:conf/RelMiCS/MoreiraPS12}.
Their development is based on Antimirov's partial derivatives of regular expressions \cite{DBLP:journals/tcs/Antimirov96} and contains a refutation step to speed up inequality checking. It consists of 19,000 lines of code.

\paragraph{}
Asperti formalized a decision procedure for equivalence of regular expressions \cite{DBLP:conf/itp/Asperti12} based on the notion of pointed regular expressions \cite{DBLP:journals/corr/abs-1010-2604}. This development was done in the Matita proof assistant \cite{DBLP:conf/cade/AspertiRCT11}. It weighs in at 3,400 lines of code.

\paragraph{}
There has also been a paper by Wu, Zhang and Urban on formalizing the Myhill-Nerode theorem using only regular expressions and not, as is commonly done, finite automata \cite{DBLP:conf/itp/WuZU11}.
The authors state that this unusual choice stems, at least partly, from the restrictions of Isabelle/HOL (and similar HOL-based theorem provers). 
In particular, the fact that Isabelle/HOL does not allow for quantification over types effectively prevents straight-forward formalizations of finite automata.
Their development consists of roughly 2,000 lines of code.


\section{Contributions}
Unlike recent publications in this area, we do not focus on executable decision procedures.
    Instead, our formalization is very close to the mathematical definitions given in \cite{DBLP:books/daglib/0088160}.
Our development shows that \coq\ (particularly with \ssreflect) is well suited for this kind of formalization.
Furthermore, we have also developed a new characterization derived from the Nerode relation and proven it equivalent to all other characterizations.
Our development weighs in at about 3,500 lines of code.


\section{Outline}
In Chapter \ref{chap:coq} we introduce the \coq\ framework and the \ssreflect\ extension. 
We give a brief introduction of the \ssreflect-specific syntax and concepts that are relevant to our formalization.

In Chapter \ref{chap:lang} we give basic definitions (words, languages, etc.). 
We also introduce decidable languages, regular languages and regular expressions. 
Furthermore, we prove the decidability of regular languages.

In Chapter \ref{chap:FA} we introduce finite automata.
We prove the equivalence of deterministic and non-deterministic finite automata.
We also give a procedure to remove unreachable states from deterministic finite automata.
Furthermore, we prove decidability of emptiness and equivalence of finite automata.
Finally, we prove the equivalence of regular expressions and finite automata. 

In Chapter \ref{chap:MN} we introduce the Myhill-Nerode theorem.
We give three different characterizations of regular languages based on the Myhill-Nerode theorem and prove them equivalent to finite automata.
The formalization of these characterizations is interesting in itself due to the fact that we had to find a suitable representation of quotient types in \coq, which has no notion of quotient types.
